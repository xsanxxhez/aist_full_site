/* Styles moved from temporary.html */
/* ... All CSS from <style> in temporary.html will be placed here ... */

:root {
      --soft-pink: #FFB6C1;
      --soft-blue: #ADD8E6;
      --soft-mint: #98FF98;
      --soft-lavender: #E6E6FA;
      --light-bg: #FFF5F5;
      --card-bg: #FFFFFF;
      --dark-bg: #F0E6E6;
      --darker-bg: #E8D8D8;
      --text-dark: #4A4A4A;
      --text-light: #888888;
      --text-white: #FFFFFF;
      --accent-gradient: linear-gradient(135deg, var(--soft-pink), var(--soft-blue));
      --purple-gradient: linear-gradient(135deg, var(--soft-lavender), var(--soft-blue));
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      --transition-slow: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
      --border-radius: 12px;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.05);
      --shadow-md: 0 4px 6px rgba(0,0,0,0.08);
      --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
      --settings-glow: 0 0 12px 2px var(--soft-blue);
    }
    [data-theme="light"] {
      --light-bg: #FFF5F5;
      --card-bg: #FFFFFF;
      --dark-bg: #F0E6E6;
      --darker-bg: #E8D8D8;
      --text-dark: #4A4A4A;
      --text-light: #888888;
      --accent-gradient: linear-gradient(135deg, #FFB6C1, #ADD8E6);
      --settings-glow: 0 0 12px 2px #ADD8E6;
    }
    [data-theme="dark"] {
      --light-bg: #181A20;
      --card-bg: #23262F;
      --dark-bg: #23262F;
      --darker-bg: #181A20;
      --text-dark: #F4F4F4;
      --text-light: #A0A0A0;
      --accent-gradient: linear-gradient(135deg, #23262F, #3A3F51);
      --settings-glow: 0 0 12px 2px #3A3F51;
    }
    [data-theme="pastel"] {
      --light-bg: #ffe0e9;
      --card-bg: #e0f7fa;
      --dark-bg: #f8bbd0;
      --darker-bg: #e1bee7;
      --text-dark: #6d4c41;
      --text-light: #a1887f;
      --accent-gradient: linear-gradient(135deg, #ffe0e9, #e0f7fa);
      --settings-glow: 0 0 12px 2px #e0f7fa;
    }
    [data-theme="solarized"] {
      --light-bg: #fdf6e3;
      --card-bg: #eee8d5;
      --dark-bg: #eee8d5;
      --darker-bg: #e1dbcd;
      --text-dark: #657b83;
      --text-light: #93a1a1;
      --accent-gradient: linear-gradient(135deg, #b58900, #268bd2);
      --settings-glow: 0 0 12px 2px #b58900;
    }
    [data-theme="forest"] {
      --light-bg: #e8f5e9;
      --card-bg: #c8e6c9;
      --dark-bg: #a5d6a7;
      --darker-bg: #81c784;
      --text-dark: #2e7d32;
      --text-light: #388e3c;
      --accent-gradient: linear-gradient(135deg, #a5d6a7, #388e3c);
      --settings-glow: 0 0 12px 2px #388e3c;
    }
    [data-theme="ocean"] {
      --light-bg: #e3f2fd;
      --card-bg: #bbdefb;
      --dark-bg: #90caf9;
      --darker-bg: #64b5f6;
      --text-dark: #0d47a1;
      --text-light: #1976d2;
      --accent-gradient: linear-gradient(135deg, #64b5f6, #1976d2);
      --settings-glow: 0 0 12px 2px #1976d2;
    }
    [data-theme="cyberpunk"] {
      --light-bg: #0a0020;
      --card-bg: #1a0025;
      --dark-bg: #0f0020;
      --darker-bg: #0a0015;
      --text-dark: #ff00cc;
      --text-light: #00fff7;
      --text-white: #fff;
      --accent-gradient: linear-gradient(135deg, #ff00cc, #3333ff);
      --purple-gradient: linear-gradient(135deg, #ff00cc, #3333ff);
      --settings-glow: 0 0 24px 4px #ff00cc, 0 0 32px 8px #3333ff;
      --cyberpunk-glow: 0 0 24px 4px #ff00cc, 0 0 32px 8px #3333ff;
      --cyberpunk-neon: 0 0 8px #ff00cc, 0 0 16px #3333ff;
      --cyberpunk-bg-anim: linear-gradient(120deg, #0a0020 0%, #1a0025 50%, #3333ff 100%);
    }
    /* Animated cyberpunk background */
    [data-theme="cyberpunk"] body {
      background: var(--cyberpunk-bg-anim);
      background-size: 200% 200%;
      animation: cyberpunk-bg-move 8s linear infinite alternate;
    }
    @keyframes cyberpunk-bg-move {
      0% { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }
    [data-theme="cyberpunk"] .sidebar, [data-theme="cyberpunk"] .main-content, [data-theme="cyberpunk"] .sidebar-header, [data-theme="cyberpunk"] .sidebar-section, [data-theme="cyberpunk"] .sidebar-item, [data-theme="cyberpunk"] .chat-header, [data-theme="cyberpunk"] .chat-container, [data-theme="cyberpunk"] .search-screen, [data-theme="cyberpunk"] .image-gen-screen, [data-theme="cyberpunk"] .settings-modal-content {
      background: rgba(26,0,37,0.92) !important;
      color: #ff00cc !important;
      font-family: 'Orbitron', 'Inter', sans-serif !important;
      border: none;
    }
    [data-theme="cyberpunk"] .sidebar-item, [data-theme="cyberpunk"] .new-chat-btn, [data-theme="cyberpunk"] #main-page-btn {
      box-shadow: var(--cyberpunk-neon);
      border: 1.5px solid #ff00cc;
      color: #ff00cc !important;
      background: rgba(26,0,37,0.92) !important;
      transition: box-shadow 0.3s, background 0.3s, color 0.3s;
    }
    [data-theme="cyberpunk"] .sidebar-item:hover, [data-theme="cyberpunk"] .new-chat-btn:hover, [data-theme="cyberpunk"] #main-page-btn:hover {
      background: #3333ff !important;
      color: #fff !important;
      box-shadow: 0 0 16px #ff00cc, 0 0 32px #3333ff;
    }
    [data-theme="cyberpunk"] .sidebar-item.active {
      background: #ff00cc !important;
      color: #fff !important;
      box-shadow: 0 0 16px #ff00cc, 0 0 32px #3333ff;
    }
    [data-theme="cyberpunk"] .settings-modal-content {
      box-shadow: 0 0 32px #ff00cc, 0 0 64px #3333ff;
      border: 2px solid #ff00cc;
      background: rgba(26,0,37,0.98) !important;
      color: #ff00cc !important;
      font-family: 'Orbitron', 'Inter', sans-serif !important;
      animation: cyberpunk-modal-fade 1s cubic-bezier(0.77,0,0.18,1) both;
    }
    @keyframes cyberpunk-modal-fade {
      0% { opacity: 0; transform: scale(0.8) rotate(-8deg); }
      100% { opacity: 1; transform: scale(1) rotate(0deg); }
    }
    [data-theme="cyberpunk"] .theme-btn {
      background: linear-gradient(90deg,#ff00cc,#3333ff);
      color: #fff;
      border: 2px solid #ff00cc;
      box-shadow: 0 0 8px #ff00cc, 0 0 16px #3333ff;
      font-family: 'Orbitron', 'Inter', sans-serif !important;
      transition: background 0.3s, color 0.3s, box-shadow 0.3s;
    }
    [data-theme="cyberpunk"] .theme-btn:hover {
      background: #3333ff;
      color: #ff00cc;
      box-shadow: 0 0 24px #ff00cc, 0 0 32px #3333ff;
    }
    [data-theme="cyberpunk"] .settings-title {
      color: #fff;
      text-shadow: 0 0 8px #ff00cc, 0 0 16px #3333ff;
      font-family: 'Orbitron', 'Inter', sans-serif !important;
    }
    [data-theme="cyberpunk"] .settings-close {
      color: #ff00cc;
      text-shadow: 0 0 8px #ff00cc, 0 0 16px #3333ff;
    }
    [data-theme="cyberpunk"] .settings-close:hover {
      color: #fff;
      background: #ff00cc;
    }
    /* Settings button redesign */
    #settings-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 14px;
      width: 100%;
      margin: 0 0 6px 0;
      padding: 9px 13px;
      border-radius: var(--border-radius);
      background: var(--card-bg);
      color: var(--text-dark);
      border: 0px solid rgba(0,0,0,0.04);
      cursor: pointer;
      font-weight: 500;
      transition: var(--transition);
      white-space: nowrap;
      min-height: 38px;
      box-sizing: border-box;
    }
    #settings-btn i {
      font-size: 16px;
    }
    #settings-btn span {
      display: inline-block;
    }
    #settings-btn:hover {
      background: var(--soft-lavender);
      color: var(--text-dark);
    }


    /* Settings modal redesign */
    #settings-modal {
      display:none;
      position:fixed;
      z-index:10000;
      top:0;left:0;width:100vw;height:100vh;
      background:rgba(0,0,0,0.45);
      align-items:center;justify-content:center;
      animation: fadeIn 0.4s cubic-bezier(0.77,0,0.18,1);
    }
    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }
    .settings-modal-content {
      background: var(--card-bg);
      max-width: 420px;
      width: 92vw;
      padding: 38px 32px 28px 32px;
      border-radius: 22px;
      box-shadow: var(--settings-glow);
      position:relative;
      border: 2px solid var(--soft-blue);
      animation: modalPop 0.5s cubic-bezier(0.77,0,0.18,1);
      transition: background 0.3s, color 0.3s;
    }
    @keyframes modalPop {
      0% { opacity: 0; transform: scale(0.85) translateY(40px); }
      100% { opacity: 1; transform: scale(1) translateY(0); }
    }
    .settings-close {
      position:absolute;top:18px;right:22px;
      background:none;border:none;font-size:26px;cursor:pointer;
      color:var(--text-light);
      transition: color 0.2s, background 0.2s;
      border-radius: 50%;
      width: 36px; height: 36px;
      display: flex; align-items: center; justify-content: center;
    }
    .settings-close:hover {
      color: var(--soft-blue);
      background: var(--soft-pink);
    }
    .settings-title {
      margin-bottom: 22px;
      font-size: 1.4rem;
      color: var(--text-dark);
      font-weight: 700;
      letter-spacing: 1px;
      text-align: center;
      font-family: 'Orbitron', 'Inter', sans-serif;
    }
    .settings-section {
      margin-bottom: 22px;
    }
    .settings-section label {
      font-weight: 600;
      color: var(--text-dark);
      display: block;
      margin-bottom: 8px;
      font-size: 1.05rem;
    }
    .theme-btn {
      padding: 12px 0;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 8px;
      width: 100%;
      background: var(--accent-gradient);
      color: #fff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: background 0.3s, color 0.3s, box-shadow 0.3s;
      font-family: 'Inter', sans-serif;
    }
    .theme-btn:hover {
      background: var(--purple-gradient);
      color: var(--text-dark);
      box-shadow: 0 0 12px var(--soft-blue);
    }
    .settings-action-btn {
      width: 100%;
      padding: 12px 0;
      border-radius: 10px;
      border: none;
      background: var(--soft-blue);
      color: #fff;
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 10px;
      cursor: pointer;
      transition: background 0.3s, color 0.3s;
    }
    .settings-action-btn:hover {
      background: var(--soft-pink);
      color: var(--text-dark);
    }
    .settings-about {
      color: var(--text-light);
      font-size: 0.98rem;
      text-align: center;
      margin-top: 10px;
    }


    * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        body {
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
          background-color: var(--light-bg);
          color: var(--text-dark);
          line-height: 1.6;
          transition: var(--transition-slow);
        }

        /* Основной контейнер */
        .app-container {
          display: flex;
          min-height: 100vh;
        }

        /* Боковое меню */
        .sidebar {
          width: 260px;
          background-color: var(--card-bg);
          border-right: 1px solid rgba(0, 0, 0, 0.05);
          padding: 20px 0;
          display: flex;
          flex-direction: column;
          transition: var(--transition-slow);
          position: relative;
          z-index: 10;
        }

        .sidebar.collapsed {
          width: 72px;
        }

        .sidebar.collapsed .sidebar-item span,
        .sidebar.collapsed .sidebar-title,
        .sidebar.collapsed .new-chat-btn span {
          display: none;
        }
        .sidebar.collapsed .sidebar-item,
        .sidebar.collapsed .new-chat-btn {
          justify-content: center;
          padding: 12px 8px;
        }
        /* Hide all sidebar items except +Новы чат and Галоўная when collapsed */
        .sidebar.collapsed .sidebar-section > .sidebar-item:not(#main-page-btn),
        .sidebar.collapsed .sidebar-section.chat-history-section,
        .sidebar.collapsed .sidebar-section > .sidebar-item:not(.new-chat-btn):not(#main-page-btn),
        .sidebar.collapsed .sidebar-title:not(:first-child),
        .sidebar.collapsed .sidebar-item:not(#main-page-btn):not(.new-chat-btn) {
          display: none !important;
        }
        .sidebar.collapsed #main-page-btn,
        .sidebar.collapsed .new-chat-btn {
          display: flex !important;
        }

        .sidebar-toggle {
          position: absolute;
          right: -12px;
          top: 20px;
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background: var(--card-bg);
          border: 1px solid rgba(0, 0, 0, 0.08);
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          z-index: 11;
          box-shadow: var(--shadow-sm);
          transition: var(--transition);
        }

        .sidebar-toggle:hover {
          transform: translateX(2px);
        }

        .sidebar-toggle i {
          font-size: 12px;
          transition: var(--transition);
        }

        .sidebar.collapsed .sidebar-toggle i {
          transform: rotate(180deg);
        }

        .sidebar-header {
          padding: 12px 14px 12px 14px;
          border-bottom: 1px solid rgba(0, 0, 0, 0.05);
          position: relative;
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .new-chat-btn {
          display: flex;
          align-items: center;
          gap: 10px;
          font-size: 14px;
          width: 100%;
          margin: 0 0 10px 0;
          padding: 11px 13px;
          border-radius: var(--border-radius);
          background: var(--accent-gradient);
          color: var(--text-white);
          border: none;
          cursor: pointer;
          font-weight: 500;
          transition: var(--transition);
          white-space: nowrap;
          box-shadow: var(--shadow-sm);
          min-height: 38px;
        }

        #main-page-btn {
          display: flex;
          align-items: center;
          gap: 10px;
          font-size: 14px;
          width: 100%;
          margin: 0 0 6px 0;
          padding: 11px 13px;
          border-radius: var(--border-radius);
          background: var(--card-bg);
          color: var(--text-dark);
          border: 0px solid rgba(0,0,0,0.04);
          cursor: pointer;
          font-weight: 500;
          transition: var(--transition);
          white-space: nowrap;
          min-height: 38px;
          box-sizing: border-box;
        }
        #main-page-btn:hover {
          background: var(--soft-lavender);
          color: var(--text-dark);
        }

        .new-chat-btn:hover {
          transform: translateY(-1px);
          box-shadow: var(--shadow-md);
        }

        .new-chat-btn:active {
          transform: translateY(0);
        }

        .sidebar-section {
          margin-bottom: 18px;
          padding: 0 14px;
        }

        .sidebar-title {
          font-size: 12.5px;
          color: var(--text-light);
          margin-bottom: 10px;
          padding: 0 8px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-weight: 500;
        }

        .sidebar-item {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 9px 13px;
          border-radius: var(--border-radius);
          cursor: pointer;
          transition: var(--transition);
          margin-bottom: 5px;
          color: var(--text-dark);
          text-decoration: none;
          white-space: nowrap;
          font-size: 14px;
          max-width: 100%;
          overflow: hidden;
          min-width: 0;
          height: 38px;
          box-sizing: border-box;
        }
        .sidebar-item span {
          display: inline-block;
          width: 120px;
          min-width: 0;
          max-width: 120px;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          vertical-align: bottom;
        }
        /* Ensure all chat history items are the same size */
        .sidebar-section.chat-history-section .sidebar-item {
          height: 38px;
          min-width: 0;
          max-width: 100%;
        }
    ======= REPLACE
    <<<<<<< SEARCH
        <div class="sidebar-section">
          <div class="sidebar-title">Інструменты</div>
          <a href="#" class="sidebar-item" data-mode="image">
            <i class="fas fa-image"></i> <span>Генерацыя выяў</span>
          </a>
          <div class="sidebar-title">Гісторыя чатаў</div>
          <div class="sidebar-section chat-history-section">
            <!-- Здесь будут динамически добавляться сохраненные чаты -->
          </div>
          <a href="#" class="sidebar-item" id="settings-btn">
            <i class="fas fa-cog"></i> <span>Налады</span>
          </a>
          <a href="#" class="sidebar-item">
            <i class="fas fa-info-circle"></i> <span>Даведка</span>
          </a>
        </div>
    =======
        <div class="sidebar-section">
          <div class="sidebar-title">Інструменты</div>
          <a href="#" class="sidebar-item" data-mode="image">
            <i class="fas fa-image"></i> <span>Генерацыя выяў</span>
          </a>
          <div class="sidebar-title">Гісторыя чатаў</div>
          <div class="sidebar-section chat-history-section">
            <!-- Здесь будут динамически добавляться сохраненные чаты -->
          </div>
          <a href="#" class="sidebar-item" id="main-page-btn">
            <i class="fas fa-home"></i> <span>Галоўная</span>
          </a>
          <a href="#" class="sidebar-item" id="settings-btn">
            <i class="fas fa-cog"></i> <span>Налады</span>
          </a>
          <a href="#" class="sidebar-item">
            <i class="fas fa-info-circle"></i> <span>Даведка</span>
          </a>
        </div>

        .sidebar-item:hover {
          background-color: var(--dark-bg);
        }

        .sidebar-item.active {
          background-color: var(--soft-lavender);
          color: var(--text-dark);
          font-weight: 500;
        }

        .sidebar-item i {
          width: 20px;
          text-align: center;
          font-size: 16px;
          flex-shrink: 0;
        }

        /* Основное содержимое */
        .main-content {
          flex: 1;
          display: flex;
          flex-direction: column;
          transition: var(--transition);
          position: relative;
        }

        /* Начальный экран с поиском */
        .search-screen {
          flex: 1;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 200px 24px;
          text-align: center;
          transition: all 0.5s ease;
        }

        .search-screen h1 {
          font-size: 2.2rem;
          margin-bottom: 10px;
          background: var(--accent-gradient);
          -webkit-background-clip: text;
          background-clip: text;
          color: transparent;
          font-weight: 600;
        }

        .search-screen p {
          color: var(--text-light);
          margin-bottom: 32px;
          font-size: 1rem;
          max-width: 600px;
          line-height: 1.5;
        }

        .search-box {
          position: relative;
          width: 100%;
          max-width: 560px;
          margin: 0 auto;
        }

        .search-input {
          width: 100%;
          padding: 14px 50px 14px 20px;
          border-radius: var(--border-radius);
          border: 1px solid var(--soft-lavender);
          background-color: var(--card-bg);
          font-size: 1rem;
          color: var(--text-dark);
          outline: none;
          transition: var(--transition);
          box-shadow: var(--shadow-sm);
        }

        .search-input:focus {
          border-color: var(--soft-blue);
          box-shadow: 0 0 0 3px rgba(173, 216, 230, 0.2);
        }

        .search-button {
          position: absolute;
          right: 8px;
          top: 50%;
          transform: translateY(-50%);
          width: 36px;
          height: 36px;
          border-radius: var(--border-radius);
          background: var(--accent-gradient);
          color: white;
          border: none;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: var(--transition);
        }

        .search-button:hover {
          transform: translateY(-50%) scale(1.05);
        }

        /* Чат-интерфейс */
        .chat-container {
          flex: 1;
          display: flex;
          flex-direction: column;
          height: 0;
          overflow: hidden;
          opacity: 0;
          background-color: var(--card-bg);
          transition: all 0.5s ease;
        }

        .chat-container.active {
          height: auto;
          opacity: 1;
        }

        .chat-header {
          padding: 16px 650px;
          border-bottom: 1px solid rgba(0, 0, 0, 0.05);
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .chat-avatar {
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background: var(--accent-gradient);
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: 500;
          flex-shrink: 0;
          font-size: 14px;
        }

        .chat-title {
          font-size: 1.1rem;
          font-weight: 600;
        }

        .chat-messages {
          flex: 1;
          padding: 16px;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .message {
          display: flex;
          gap: 17px;
          animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }

        .message-avatar {
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background-color: var(--soft-lavender);
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
          font-size: 14px;
          font-weight: 500;
        }

        .user .message-avatar {
          background: var(--accent-gradient);
          color: white;
        }

        .message-content {
          flex: 1;
          min-width: 0;
        }

        .message-text {
          padding: 12px 16px;
          border-radius: 18px;
          font-size: 0.95rem;
          line-height: 1.5;
          word-wrap: break-word;
          max-width: 85%;
        }

        .user .message-text {
          background: var(--accent-gradient);
          color: white;
          border-bottom-right-radius: 4px;
        }

        .bot .message-text {
          background-color: var(--light-bg);
          border: 1px solid rgba(0, 0, 0, 0.05);
          border-bottom-left-radius: 4px;
        }

        .message-time {
          font-size: 0.75rem;
          color: var(--text-light);
          margin-top: 6px;
          opacity: 0.8;
        }

        .chat-input-container {
          padding: 16px 20px;
          border-top: 1px solid rgba(0, 0, 0, 0.05);
        }

        .chat-input-box {
          display: flex;
          align-items: center;
          background-color: var(--light-bg);
          border-radius: var(--border-radius);
          padding: 4px 4px 4px 16px;
          transition: var(--transition);
          border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .chat-input-box:focus-within {
          box-shadow: 0 0 0 3px rgba(173, 216, 230, 0.2);
          border-color: var(--soft-blue);
        }

        .chat-input {
          flex: 1;
          border: none;
          background: transparent;
          outline: none;
          font-size: 0.95rem;
          color: var(--text-dark);
          padding: 10px 0;
          line-height: 1.5;
        }

        .send-button {
          width: 40px;
          height: 40px;
          border-radius: var(--border-radius);
          background: var(--accent-gradient);
          color: white;
          border: none;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: var(--transition);
        }

        .send-button:hover {
          transform: scale(1.05);
        }

        .send-button:active {
          transform: scale(0.98);
        }

        /* Индикатор набора */
        .typing-indicator {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 16px;
          background-color: var(--light-bg);
          border-radius: 18px;
          margin-bottom: 16px;
          align-self: flex-start;
          max-width: 80%;
          border: 1px solid rgba(0, 0, 0, 0.05);
          font-size: 0.9rem;
          color: var(--text-light);
        }

        .typing-dots {
          display: flex;
          gap: 4px;
        }

        .typing-dot {
          width: 7px;
          height: 7px;
          border-radius: 50%;
          background-color: var(--soft-blue);
          animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingAnimation {
          0%, 60%, 100% { transform: translateY(0); }
          30% { transform: translateY(-3px); }
        }

        /* Кнопка темы */
        .theme-toggle {
          position: absolute;
          top: 20px;
          right: 20px;
          width: 44px;
          height: 24px;
          background: var(--card-bg);
          border-radius: 20px;
          display: flex;
          align-items: center;
          padding: 0 5px;
          cursor: pointer;
          border: 1px solid rgba(0, 0, 0, 0.08);
          z-index: 10;
          box-shadow: var(--shadow-sm);
          transition: var(--transition);
        }

        .theme-toggle:hover {
          transform: translateY(-1px);
          box-shadow: var(--shadow-md);
        }

        .theme-toggle i {
          font-size: 12px;
          transition: var(--transition);
        }

        .theme-toggle .fa-sun {
          color: #f1c40f;
          opacity: 0;
        }

        .theme-toggle .fa-moon {
          color: var(--text-dark);
        }

        [data-theme="dark"] .theme-toggle .fa-sun {
          opacity: 1;
        }

        [data-theme="dark"] .theme-toggle .fa-moon {
          opacity: 0;
        }

        /* Адаптация для свернутого меню */
        @media (max-width: 768px) {
          .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            z-index: 100;
            transform: translateX(-100%);
            width: 280px;
            box-shadow: var(--shadow-lg);
          }

          .sidebar.visible {
            transform: translateX(0);
          }

          .sidebar-toggle {
            display: none;
          }

          .search-screen {
            padding: 40px 16px;
          }

          .search-screen h1 {
            font-size: 1.8rem;
          }

          .chat-header {
            padding: 12px 170px;

          }

          .chat-input-container {
            padding: 12px 16px;
          }
        }

        /* Минимальная высота для мобильных устройств */
        @media (max-height: 600px) {
          .search-screen {
            padding: 20px 16px;
          }
        }

        /* Стили для интерфейса генерации изображений */
        .image-gen-screen {
          flex: 1;
          display: none;
          flex-direction: column;
          align-items: center;
          padding: 40px 24px;
          text-align: center;
          transition: all 0.5s ease;
        }

        .image-gen-screen h1 {
          font-size: 2.2rem;
          margin-bottom: 10px;
          background: var(--purple-gradient);
          -webkit-background-clip: text;
          background-clip: text;
          color: transparent;
          font-weight: 600;
        }

        .image-gen-screen p {
          color: var(--text-light);
          margin-bottom: 32px;
          font-size: 1rem;
          max-width: 600px;
          line-height: 1.5;
        }

        .image-results {
          width: 100%;
          max-width: 1200px;
          margin-top: 30px;
          padding: 20px;
        }

        .loading-indicator {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 15px;
          color: var(--text-light);
        }

        .spinner {
          width: 50px;
          height: 50px;
          border: 4px solid var(--soft-lavender);
          border-top: 4px solid var(--soft-blue);
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        .image-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
          gap: 20px;
          margin-top: 20px;
        }

        .image-card {
          background: var(--card-bg);
          border-radius: var(--border-radius);
          overflow: hidden;
          box-shadow: var(--shadow-sm);
          transition: var(--transition);
        }

        .image-card:hover {
          transform: translateY(-5px);
          box-shadow: var(--shadow-md);
        }

        .image-card img {
          width: 100%;
          height: 250px;
          object-fit: cover;
        }

        .download-btn {
          width: 100%;
          padding: 10px;
          background: var(--purple-gradient);
          color: white;
          border: none;
          cursor: pointer;
          font-size: 14px;
          transition: var(--transition);
        }

        .download-btn:hover {
          opacity: 0.9;
        }

        /* Адаптация для мобильных */
        @media (max-width: 768px) {
          .image-grid {
            grid-template-columns: 1fr;
          }

          .image-gen-screen {
            padding: 20px 16px;
          }

          .image-gen-screen h1 {
            font-size: 1.8rem;
          }
          .sidebar-header {
                    padding: 12px 14px 12px 14px;
                    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
                    position: relative;
                    display: flex;
                    flex-direction: column;
                    gap: 10px;
                  }
        }
        .sidebar-section.chat-history-section {
          max-height: 260px;
          overflow-y: auto;
          overflow-x: hidden;
        }

